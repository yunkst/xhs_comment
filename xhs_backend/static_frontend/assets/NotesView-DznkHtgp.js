import{_ as S,a as d,o as E,c as P,b as e,w as a,n as T,E as U,e as n,f as L,g as b,j as M,h as _,k as j,t as g,i as w}from"./index-hLWp94X4.js";const A={class:"notes-view"},q={__name:"NotesView",setup(F){const f=d([]),i=d(!1),v=d(0),p=d(1),h=d(10),s=d({noteId:"",authorName:"",keyword:""}),c=async()=>{i.value=!0;try{const o={...s.value,page:p.value,page_size:h.value},t=await T.searchNotes(o);f.value=t.data.items,v.value=t.data.total}catch(o){U.error("获取笔记列表失败"),console.error(o)}finally{i.value=!1}},y=()=>{p.value=1,c()},V=o=>{p.value=o,c()},k=o=>o?new Date(o).toLocaleString():"N/A";return E(()=>{c()}),(o,t)=>{const m=n("el-input"),u=n("el-form-item"),I=n("el-button"),N=n("el-form"),r=n("el-table-column"),x=n("el-link"),C=n("el-table"),D=n("el-pagination"),z=n("el-card"),B=L("loading");return b(),P("div",A,[e(z,{class:"box-card"},{header:a(()=>t[3]||(t[3]=[w("div",{class:"card-header"},[w("span",null,"笔记管理")],-1)])),default:a(()=>[e(N,{inline:!0,model:s.value,class:"demo-form-inline"},{default:a(()=>[e(u,{label:"笔记ID"},{default:a(()=>[e(m,{modelValue:s.value.noteId,"onUpdate:modelValue":t[0]||(t[0]=l=>s.value.noteId=l),placeholder:"输入笔记ID"},null,8,["modelValue"])]),_:1}),e(u,{label:"作者名"},{default:a(()=>[e(m,{modelValue:s.value.authorName,"onUpdate:modelValue":t[1]||(t[1]=l=>s.value.authorName=l),placeholder:"输入作者昵称"},null,8,["modelValue"])]),_:1}),e(u,{label:"关键词"},{default:a(()=>[e(m,{modelValue:s.value.keyword,"onUpdate:modelValue":t[2]||(t[2]=l=>s.value.keyword=l),placeholder:"标题或内容关键词"},null,8,["modelValue"])]),_:1}),e(u,null,{default:a(()=>[e(I,{type:"primary",onClick:y},{default:a(()=>t[4]||(t[4]=[_("查询")])),_:1})]),_:1})]),_:1},8,["model"]),M((b(),j(C,{data:f.value,stripe:"",style:{width:"100%"}},{default:a(()=>[e(r,{prop:"noteId",label:"笔记ID",width:"220"}),e(r,{prop:"title",label:"标题","min-width":"200"},{default:a(({row:l})=>[e(x,{href:"https://www.xiaohongshu.com/explore/"+l.noteId,type:"primary",target:"_blank"},{default:a(()=>[_(g(l.title),1)]),_:2},1032,["href"])]),_:1}),e(r,{prop:"authorId",label:"作者ID",width:"180"}),e(r,{prop:"publishTime",label:"发布时间",width:"180"},{default:a(({row:l})=>[_(g(k(l.publishTime)),1)]),_:1}),e(r,{prop:"noteLike",label:"点赞数",width:"100"}),e(r,{prop:"noteCommitCount",label:"评论数",width:"100"})]),_:1},8,["data"])),[[B,i.value]]),e(D,{style:{"margin-top":"20px"},background:"",layout:"prev, pager, next, total",total:v.value,"page-size":h.value,onCurrentChange:V},null,8,["total","page-size"])]),_:1})])}}},H=S(q,[["__scopeId","data-v-ebbf639d"]]);export{H as default};
