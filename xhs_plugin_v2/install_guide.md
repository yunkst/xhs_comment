# 小红书网络请求监控插件 - 安装指南

## 快速安装

### 1. 准备图标文件
由于GitHub不支持二进制文件，您需要先创建图标文件：

1. 在浏览器中打开 `icons/create_icons.html`
2. 截图或保存以下尺寸的图标到 `icons/` 目录：
   - `icon16.png` (16x16 像素)
   - `icon48.png` (48x48 像素) 
   - `icon128.png` (128x128 像素)

### 2. 安装插件

1. **打开Chrome扩展管理页面**
   - 在地址栏输入：`chrome://extensions/`
   - 或者：Chrome菜单 → 更多工具 → 扩展程序

2. **启用开发者模式**
   - 在页面右上角打开"开发者模式"开关

3. **加载插件**
   - 点击"加载已解压的扩展程序"
   - 选择 `xhs_plugin_v2` 文件夹
   - 点击"选择文件夹"

4. **验证安装**
   - 插件应该出现在扩展列表中
   - 浏览器工具栏应该显示插件图标
   - 图标上可能显示红色徽章（如果没有图标文件，会显示默认图标）

## 使用测试

### 1. 基本功能测试
1. 访问小红书官网：https://xiaohongshu.com
2. 点击插件图标，查看是否记录到请求
3. 在页面中进行一些操作（滚动、点击、搜索等）
4. 再次点击插件图标，应该看到更多请求记录

### 2. 功能验证清单
- [ ] 插件图标正常显示
- [ ] 访问小红书网站时，图标上显示请求数量徽章
- [ ] 点击插件图标能打开监控面板
- [ ] 监控面板显示请求列表
- [ ] 可以点击展开请求详情
- [ ] 过滤功能正常工作
- [ ] 清空日志功能正常
- [ ] 导出功能正常（生成JSON文件）

### 3. 控制台日志验证
在小红书页面按F12打开开发者工具，在Console中应该看到：
```
小红书网络请求拦截器已注入
小红书网络请求拦截器初始化完成
小红书网络请求监控 - 内容脚本已加载
[XHS Monitor] Fetch请求拦截: GET https://...
[XHS Monitor] XHR请求拦截: POST https://...
```

## 故障排除

### 问题1：插件图标不显示
**解决方案：**
- 确保 `icons/` 目录下有正确的PNG文件
- 如果没有图标文件，插件仍可正常工作，只是显示默认图标

### 问题2：没有拦截到请求
**检查项：**
- 确保访问的是 xiaohongshu.com 域名
- 检查浏览器控制台是否有错误信息
- 尝试刷新页面重新开始监控

### 问题3：弹窗界面显示异常
**解决方案：**
- 检查所有文件是否完整
- 确保没有语法错误
- 查看扩展管理页面的错误信息

### 问题4：权限错误
**解决方案：**
- 确保Chrome版本支持Manifest V3 (Chrome 88+)
- 重新加载插件
- 检查manifest.json文件格式

## 开发调试

### 调试后台脚本
1. 在 `chrome://extensions/` 中找到插件
2. 点击"检查视图" → "Service Worker"
3. 在控制台中查看日志和调试信息

### 调试弹窗界面
1. 右键点击插件图标
2. 选择"检查弹出式窗口"
3. 在开发者工具中调试

### 调试内容脚本
1. 在小红书页面按F12
2. 在Console中查看相关日志
3. 在Sources面板中查看注入的脚本

## 卸载插件
1. 进入 `chrome://extensions/`
2. 找到插件并点击"移除"
3. 确认删除

## 更新插件
1. 修改代码后，在扩展管理页面点击刷新按钮
2. 或者重新加载插件文件夹

## 技术支持
如果遇到问题，请检查：
1. Chrome版本是否兼容
2. 文件是否完整
3. 权限是否正确授予
4. 控制台是否有错误信息